<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>keycloak_ldap_user_federation - Terraform Provider: Keycloak</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../index.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "keycloak_ldap_user_federation";
    var mkdocs_page_input_path = "resources/keycloak_ldap_user_federation.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Terraform Provider: Keycloak</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Getting Started</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Resources</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../keycloak_realm/">keycloak_realm</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_user/">keycloak_user</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_group/">keycloak_group</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_group_memberships/">keycloak_group_memberships</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_client/">keycloak_openid_client</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_client_scope/">keycloak_openid_client_scope</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_client_default_scopes/">keycloak_openid_client_default_scopes</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_user_attribute_protocol_mapper/">keycloak_openid_user_attribute_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_user_property_protocol_mapper/">keycloak_openid_user_property_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_group_membership_protocol_mapper/">keycloak_openid_group_membership_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_hardcoded_claim_protocol_mapper/">keycloak_openid_hardcoded_claim_protocol_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_openid_full_name_protocol_mapper/">keycloak_openid_full_name_protocol_mapper</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">keycloak_ldap_user_federation</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#keycloak_ldap_user_federation">keycloak_ldap_user_federation</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#example-usage">Example Usage</a></li>
        
            <li><a class="toctree-l4" href="#argument-reference">Argument Reference</a></li>
        
            <li><a class="toctree-l4" href="#import">Import</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_ldap_full_name_mapper/">keycloak_ldap_full_name_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_ldap_group_mapper/">keycloak_ldap_group_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_ldap_msad_user_account_control_mapper/">keycloak_ldap_msad_user_account_control_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_ldap_user_attribute_mapper/">keycloak_ldap_user_attribute_mapper</a>
                </li>
                <li class="">
                    
    <a class="" href="../keycloak_custom_user_federation/">keycloak_custom_user_federation</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Terraform Provider: Keycloak</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Resources &raquo;</li>
        
      
    
    <li>keycloak_ldap_user_federation</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="keycloak_ldap_user_federation">keycloak_ldap_user_federation</h1>
<p>Allows for creating and managing LDAP user federation providers within Keycloak.</p>
<p>Keycloak can use an LDAP user federation provider to federate users to Keycloak
from a directory system such as LDAP or Active Directory. Federated users
will exist within the realm and will be able to log in to clients. Federated
users can have their attributes defined using mappers.</p>
<h3 id="example-usage">Example Usage</h3>
<pre><code class="hcl">resource &quot;keycloak_realm&quot; &quot;realm&quot; {
    realm   = &quot;test&quot;
    enabled = true
}

resource &quot;keycloak_ldap_user_federation&quot; &quot;ldap_user_federation&quot; {
    name                    = &quot;openldap&quot;
    realm_id                = &quot;${keycloak_realm.realm.id}&quot;

    enabled                 = true

    username_ldap_attribute = &quot;cn&quot;
    rdn_ldap_attribute      = &quot;cn&quot;
    uuid_ldap_attribute     = &quot;entryDN&quot;
    user_object_classes     = [
        &quot;simpleSecurityObject&quot;,
        &quot;organizationalRole&quot;
    ]
    connection_url          = &quot;ldap://openldap&quot;
    users_dn                = &quot;dc=example,dc=org&quot;
    bind_dn                 = &quot;cn=admin,dc=example,dc=org&quot;
    bind_credential         = &quot;admin&quot;

    connection_timeout      = &quot;5s&quot;
    read_timeout            = &quot;10s&quot;
}
</code></pre>

<h3 id="argument-reference">Argument Reference</h3>
<p>The following arguments are supported:</p>
<ul>
<li><code>realm_id</code> - (Required) The realm that this provider will provide user federation for.</li>
<li><code>name</code> - (Required) Display name of the provider when displayed in the console.</li>
<li><code>enabled</code> - (Optional) When <code>false</code>, this provider will not be used when performing queries for users. Defaults to <code>true</code>.</li>
<li><code>priority</code> - (Optional) Priority of this provider when looking up users. Lower values are first. Defaults to <code>0</code>.</li>
<li><code>import_enabled</code> - (Optional) When <code>true</code>, LDAP users will be imported into the Keycloak database. Defaults to <code>true</code>.</li>
<li><code>edit_mode</code> - (Optional) Can be one of <code>READ_ONLY</code>, <code>WRITABLE</code>, or <code>UNSYNCED</code>. <code>UNSYNCED</code> allows user data to be imported but not synced back to LDAP. Defaults to <code>READ_ONLY</code>.</li>
<li><code>sync_registrations</code> - (Optional) When <code>true</code>, newly created users will be synced back to LDAP. Defaults to <code>false</code>.</li>
<li><code>vendor</code> - (Optional) Can be one of <code>OTHER</code>, <code>EDIRECTORY</code>, <code>AD</code>, <code>RHDS</code>, or <code>TIVOLI</code>. When this is selected in the GUI, it provides reasonable defaults for other fields. When used with the Keycloak API, this attribute does nothing, but is still required. Defaults to <code>OPTIONAL</code>.</li>
<li><code>username_ldap_attribute</code> - (Required) Name of the LDAP attribute to use as the Keycloak username.</li>
<li><code>rdn_ldap_attribute</code> - (Required) Name of the LDAP attribute to use as the relative distinguished name.</li>
<li><code>uuid_ldap_attribute</code> - (Required) Name of the LDAP attribute to use as a unique object identifier for objects in LDAP.</li>
<li><code>user_object_classes</code> - (Required) Array of all values of LDAP objectClass attribute for users in LDAP. Must contain at least one.</li>
<li><code>connection_url</code> - (Required) Connection URL to the LDAP server.</li>
<li><code>users_dn</code> - (Required) Full DN of LDAP tree where your users are.</li>
<li><code>bind_dn</code> - (Optional) DN of LDAP admin, which will be used by Keycloak to access LDAP server. This attribute must be set if <code>bind_credential</code> is set.</li>
<li><code>bind_credential</code> - (Optional) Password of LDAP admin. This attribute must be set if <code>bind_dn</code> is set.</li>
<li><code>custom_user_search_filter</code> - (Optional) Additional LDAP filter for filtering searched users. Must begin with <code>(</code> and end with <code>)</code>.</li>
<li><code>search_scope</code> - (Optional) Can be one of <code>ONE_LEVEL</code> or <code>SUBTREE</code>:</li>
<li><code>ONE_LEVEL</code>: Only search for users in the DN specified by <code>user_dn</code>.</li>
<li><code>SUBTREE</code>: Search entire LDAP subtree.</li>
<li><code>validate_password_policy</code> - (Optional) When <code>true</code>, Keycloak will validate passwords using the realm policy before updating it.</li>
<li><code>use_truststore_spi</code> - (Optional) Can be one of <code>ALWAYS</code>, <code>ONLY_FOR_LDAPS</code>, or <code>NEVER</code>:</li>
<li><code>ALWAYS</code> - Always use the truststore SPI for LDAP connections.</li>
<li><code>NEVER</code> - Never use the truststore SPI for LDAP connections.</li>
<li><code>ONLY_FOR_LDAPS</code> - Only use the truststore SPI if your LDAP connection uses the ldaps protocol.</li>
<li><code>connection_timeout</code> - (Optional) LDAP connection timeout in the format of a <a href="https://golang.org/pkg/time/#Duration.String">Go duration string</a>.</li>
<li><code>read_timeout</code> - (Optional) LDAP read timeout in the format of a <a href="https://golang.org/pkg/time/#Duration.String">Go duration string</a>.</li>
<li><code>pagination</code> - (Optional) When true, Keycloak assumes the LDAP server supports pagination. Defaults to <code>true</code>.</li>
<li><code>batch_size_for_sync</code> - (Optional) The number of users to sync within a single transaction. Defaults to <code>1000</code>.</li>
<li><code>full_sync_period</code> - (Optional) How frequently Keycloak should sync all LDAP users, in seconds. Omit this property to disable periodic full sync.</li>
<li><code>changed_sync_period</code> - (Optional) How frequently Keycloak should sync changed LDAP users, in seconds. Omit this property to disable periodic changed users sync.</li>
<li><code>cache_policy</code> - (Optional) Can be one of <code>DEFAULT</code>, <code>EVICT_DAILY</code>, <code>EVICT_WEEKLY</code>, <code>MAX_LIFESPAN</code>, or <code>NO_CACHE</code>. Defaults to <code>DEFAULT</code>.</li>
</ul>
<h3 id="import">Import</h3>
<p>LDAP user federation providers can be imported using the format <code>{{realm_id}}/{{ldap_user_federation_id}}</code>.
The ID of the LDAP user federation provider can be found within the Keycloak GUI and is typically a GUID:</p>
<pre><code class="bash">$ terraform import keycloak_ldap_user_federation.ldap_user_federation my-realm/af2a6ca3-e4d7-49c3-b08b-1b3c70b4b860
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../keycloak_ldap_full_name_mapper/" class="btn btn-neutral float-right" title="keycloak_ldap_full_name_mapper">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../keycloak_openid_full_name_protocol_mapper/" class="btn btn-neutral" title="keycloak_openid_full_name_protocol_mapper"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../keycloak_openid_full_name_protocol_mapper/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../keycloak_ldap_full_name_mapper/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
